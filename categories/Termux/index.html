<!DOCTYPE html>
<html>

<head><meta name="generator" content="Hexo 3.9.0">
  
  <title>分类：Termux - 莫小白</title>
  <meta charset="UTF-8">
  <meta name="description" content="研究研究，随便写写">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
  

  <link rel="shortcut icon" href="/favicon.ico" type="image/png">
  <meta name="description" content="研究研究，随便写写">
<meta name="keywords" content="develop, share">
<meta property="og:type" content="website">
<meta property="og:title" content="莫小白">
<meta property="og:url" content="http://mercutio.club/categories/Termux/index.html">
<meta property="og:site_name" content="莫小白">
<meta property="og:description" content="研究研究，随便写写">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="莫小白">
<meta name="twitter:description" content="研究研究，随便写写">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdui@0.4.3/dist/css/mdui.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.15.8/styles/atom-one-dark.css">
   
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css">
  
  
  <link rel="stylesheet" href="//at.alicdn.com/t/font_1038733_0xvrvpg9c0r.css">
  <link rel="stylesheet" href="/css/style.css?v=1574862650201">
</head>

<body class="mdui-drawer-body-left">
  
  <div id="nexmoe-background">
    <div class="nexmoe-bg" style="background-image: url(https://i.loli.net/2019/01/13/5c3aec85a4343.jpg)"></div>
    <div class="mdui-appbar mdui-shadow-0">
      <div class="mdui-toolbar">
        <a mdui-drawer="{target: '#drawer', swipe: true}" title="menu" class="mdui-btn mdui-btn-icon"><i class="mdui-icon material-icons">menu</i></a>
        <div class="mdui-toolbar-spacer"></div>
        <!--<a href="javascript:;" class="mdui-btn mdui-btn-icon"><i class="mdui-icon material-icons">search</i></a>-->
        <a href="/" title="Mercutio" class="mdui-btn mdui-btn-icon"><img src="/images/avatar.jpg"></a>
       </div>
    </div>
  </div>
  <div id="nexmoe-header">
      <div class="nexmoe-drawer mdui-drawer" id="drawer">
    <div class="nexmoe-avatar mdui-ripple">
        <a href="/" title="Mercutio">
            <img src="/images/avatar.jpg" alt="Mercutio">
        </a>
    </div>
    <div class="nexmoe-count">
        <div><span>文章</span>5</div>
        <div><span>标签</span>4</div>
        <div><span>分类</span>3</div>
    </div>
    <ul class="nexmoe-list mdui-list" mdui-collapse="{accordion: true}">
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/" title="回到首页">
            <i class="mdui-list-item-icon nexmoefont icon-home"></i>
            <div class="mdui-list-item-content">
                回到首页
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/archives" title="文章归档">
            <i class="mdui-list-item-icon nexmoefont icon-container"></i>
            <div class="mdui-list-item-content">
                文章归档
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/about.html" title="关于博客">
            <i class="mdui-list-item-icon nexmoefont icon-info-circle"></i>
            <div class="mdui-list-item-content">
                关于博客
            </div>
        </a>
        
    </ul>
    <aside id="nexmoe-sidebar">
  
  <div class="nexmoe-widget-wrap">
    <h3 class="nexmoe-widget-title">社交按钮</h3>
    <div class="nexmoe-widget nexmoe-social">
        <a class="mdui-ripple" href="https://space.bilibili.com/4325844/" target="_blank" mdui-tooltip="{content: '哔哩哔哩'}" style="color: rgb(231, 106, 141);background-color: rgba(231, 106, 141, .15);">
            <i class="nexmoefont icon-bilibili"></i>
        </a><a class="mdui-ripple" href="https://github.com/mercutiojohn" target="_blank" mdui-tooltip="{content: 'GitHub'}" style="color: rgb(25, 23, 23);background-color: rgba(25, 23, 23, .15);">
            <i class="nexmoefont icon-github"></i>
        </a>
    </div>
</div>
  
  
  <div class="nexmoe-widget-wrap">
    <h3 class="nexmoe-widget-title">文章分类</h3>
    <div class="nexmoe-widget">

      <ul class="category-list">

        


        

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Algorithm/">Algorithm</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Termux/">Termux</a>
          <span class="category-list-count">1</span>
        </li>

        

        <li class="category-list-item">
          <a class="category-list-link" href="/categories/Algorithm/算法/">算法</a>
          <span class="category-list-count">1</span>
        </li>

        
      </ul>

    </div>
  </div>


  
  
  <div class="nexmoe-widget-wrap">
    <h3 class="nexmoe-widget-title">标签云</h3>
    <div id="randomtagcloud" class="nexmoe-widget tagcloud">
      <a href="/tags/Android/" style="font-size: 10px;">Android</a> <a href="/tags/Termux/" style="font-size: 10px;">Termux</a> <a href="/tags/排序/" style="font-size: 10px;">排序</a> <a href="/tags/算法/" style="font-size: 10px;">算法</a>
    </div>
    
  </div>

  
  
  <div class="nexmoe-widget-wrap">
    <h3 class="nexmoe-widget-title">文章归档</h3>
    <div class="nexmoe-widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">十一月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">六月 2019</a></li></ul>
    </div>
  </div>


  
</aside>
    <div class="nexmoe-copyright">
        &copy; 2019 Mercutio
        Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
        & <a href="https://nexmoe.com/hexo-theme-nexmoe.html" target="_blank">Nexmoe</a>
    </div>
</div><!-- .nexmoe-drawer -->
  </div>
  <div id="nexmoe-content">
    <div class="nexmoe-primary">
        <section class="nexmoe-posts" id="brand-waterfall">
    
    <div class="nexmoe-post">
        <a href="/2019/11/19/使用 Android 手机进行开发的尝试/">
            <div class="nexmoe-post-cover mdui-ripple"> 
                
                    <img src="https://i.loli.net/2019/01/13/5c3aec85a4343.jpg" alt="使用Android进行开发的尝试">
                
                <h1>使用Android进行开发的尝试</h1>
            </div>
        </a>
        <div class="nexmoe-post-meta">
            <a><i class="nexmoefont icon-calendar-fill"></i>2019年11月19日</a>
            <a><i class="nexmoefont icon-areachart"></i>1.7k 字</a>
            <a><i class="nexmoefont icon-time-circle-fill"></i>大概 7 分钟</a>
            
                <a class="nexmoefont icon-appstore-fill -link" href="/categories/Termux/">Termux</a>
            
            
                <a class="nexmoefont icon-tag-fill -link" href="/tags/Android/">Android</a> <a class="nexmoefont icon-tag-fill -link" href="/tags/Termux/">Termux</a>
            
        </div>
        <article>
            
            <!-- 原文地址 https://www.cnblogs.com/Rex/p/11444455.html -->

<p>使用 Android 手机查看和修改 Excel 文件、PowerPoint 文件并连接幻灯机进行演示等办公方式想必大家已经有所了解。今天介绍一下怎样使用 Android 进行软件开发。</p>
<h2 id="Termux"><a href="#Termux" class="headerlink" title="Termux"></a>Termux</h2><p>使用 Android 进行软件开发最重要的工具是命令行终端。<a href="https://github.com/termux/termux-app" target="_blank" rel="noopener">Termux</a> 就是其中功能最丰富、生态最好的命令行终端。</p>
<p>Termux 可以通过 F-Droid 直接下载 apk 文件进行安装，或从 Google Play Store 下载。</p>
<p><img src="https://img2018.cnblogs.com/blog/6245/201909/6245-20190902012916624-304679974.png" alt></p>
<p>Termux 附带包管理器，能够下载常见的 Linux 命令行工具，如 openssh, wget, curl, git, clang, ninja 等。</p>
<pre><code>pkg install openssh wget curl git clang ninja</code></pre><h2 id="Hacker’s-Keyboard"><a href="#Hacker’s-Keyboard" class="headerlink" title="Hacker’s Keyboard"></a>Hacker’s Keyboard</h2><p>有了命令行，就能输入命令了，但是好像输入法没有上下左右键、没有 Ctrl 键，输入命令很不方便。这个时候可以安装 <a href="https://github.com/klausw/hackerskeyboard" target="_blank" rel="noopener">Hacker’s Keyboard</a> 输入法。这个输入法包含 PC 键盘上的所有按键。</p>
<p><img src="https://img2018.cnblogs.com/blog/6245/201909/6245-20190902012620036-65434433.png" alt></p>
<p><img src="https://img2018.cnblogs.com/blog/6245/201909/6245-20190902012713367-586895995.png" alt></p>
<p>如果大家使用的手机正好是和笔者的 BlackBerry Key² 一样拥有实体键盘，可以通过修改~/.termux/termux.properties 文件，在 Termux 中增加缺少的符号。详细参考<a href="https://wiki.termux.com/wiki/Touch_Keyboard" target="_blank" rel="noopener">这里</a>。</p>
<pre><code>extra-keys = [ \
[&#39;~&#39;,&#39;`&#39;,&#39;$&#39;,&#39;%&#39;,&#39;^&#39;,&#39;&amp;&#39;,&#39;=&#39;,&#39;|&#39;,&#39;BACKSLASH&#39;], \
[&#39;ESC&#39;,&#39;&lt;&#39;,&#39;&gt;&#39;, &#39;{&#39;, &#39;}&#39;,&#39;HOME&#39;,&#39;UP&#39;,&#39;END&#39;,&#39;PGUP&#39;], \
[&#39;TAB&#39;,&#39;CTRL&#39;,&#39;ALT&#39;, &#39;[&#39;, &#39;]&#39;,&#39;LEFT&#39;,&#39;DOWN&#39;,&#39;RIGHT&#39;,&#39;PGDN&#39;]]</code></pre><h2 id="OpenSSH"><a href="#OpenSSH" class="headerlink" title="OpenSSH"></a>OpenSSH</h2><p>OpenSSH 是 Termux 中必装软件，安装之后可以启动 SSH 服务器，并通过 SSH 客户端如 PuTTY 远程控制手机，并能通过 SCP 客户端如 WinSCP 访问手机上的 Termux 内部数据和 SD 卡目录。还能从手机远程连接其他开启 SSH 服务器的设备。</p>
<p>安装之后，运行 sshd 即可。登录需要在~/.ssh/authorized_keys 中和通常的 Linux 一样配置公钥。</p>
<p>Termux 可以通过 <a href="https://wiki.termux.com/wiki/Termux:Widget" target="_blank" rel="noopener">Termux:Widget</a> 来将一些用户自定义的命令行操作变成 Android Widget 放在桌面上方便点击执行。sshd 应该是必备的条目。</p>
<h2 id="micro"><a href="#micro" class="headerlink" title="micro"></a>micro</h2><p>Termux 中自带的文本编辑器为 vi。如果你对 vim 和 emacs 不熟悉，<a href="https://github.com/zyedidia/micro" target="_blank" rel="noopener">micro</a> 是一个优良的命令行文本编辑器。安装方法如下：</p>
<pre><code>pkg install micro</code></pre><p><img src="https://img2018.cnblogs.com/blog/6245/201909/6245-20190902012744575-1365552476.png" alt></p>
<p>使用方法非常简单，手指点击即可将光标移动到指定位置，Ctrl+S 保存，Ctrl+Q 退出，Alt+G 显示常用命令，Ctrl+G 显示帮助。</p>
<p>需要注意的是，默认模式下是不会软换行的。另外就是输入’”([等字符会自动输入配对的符号。建议修改这些配置。修改地址为~/.config/micro/settings.json，可以修改下列对应行的内容：</p>
<pre><code>&quot;autoclose&quot;: false,
&quot;softwrap&quot;: true,</code></pre><p>此外，在 SSH 连接时 micro 默认无法复制粘贴，因为光标被 micro 占用。此时可以按住 Shift 键再进行复制粘贴，如在 PuTTY 中按住 Shift 键鼠标选择复制，按住 Shift 键鼠标右键粘贴。</p>
<h2 id="nnn"><a href="#nnn" class="headerlink" title="nnn"></a>nnn</h2><p><a href="https://github.com/jarun/nnn" target="_blank" rel="noopener">nnn</a> 是 Termux 上的命令行文件管理器，可用于进行快速文件夹跳转。</p>
<p>安装方式</p>
<pre><code>pkg install nnn</code></pre><p><img src="https://img2018.cnblogs.com/blog/6245/201909/6245-20190902012848481-907881188.png" alt></p>
<p>常见的操作包括上下箭头切换光标，左箭头进入上级文件夹，右箭头或回车进入当前光标所在文件夹或打开文件，Q 退出，Ctrl+G 退出并进入到当前文件夹。注意 Ctrl+G 的功能需要<a href="https://github.com/jarun/nnn/wiki/Basic-use-cases#configure-cd-on-quit" target="_blank" rel="noopener">配置</a>。需要在~/.bash_profile 中加入如下函数：</p>
<pre><code>n()
{
    export NNN_TMPFILE=${XDG_CONFIG_HOME:-$HOME/.config}/nnn/.lastd

    nnn &quot;$@&quot;

    if [ -f $NNN_TMPFILE ]; then
            . $NNN_TMPFILE
            rm -f $NNN_TMPFILE &gt; /dev/null
            pwd &gt;&amp;2
    fi
}</code></pre><h2 id="Termux-API"><a href="#Termux-API" class="headerlink" title="Termux:API"></a>Termux:API</h2><p><a href="https://wiki.termux.com/wiki/Termux:API" target="_blank" rel="noopener">Termux:API</a> 可以实现一些 Android 功能的自动化，但其中最重要的功能是在 PC 和 Android 设备之间进行剪贴板的同步。</p>
<p>安装方式：先下载 apk 安装之后再在 Termux 中运行</p>
<pre><code>pkg install termux-api</code></pre><p>通过 SSH 执行下面的命令可以在终端显示 Android 剪贴板的内容</p>
<pre><code>termux-clipboard-get</code></pre><p>通过 SSH 执行下面的命令可以将指定内容设置到 Android 剪贴板上</p>
<pre><code>termux-clipboard-set &lt;内容&gt;</code></pre><h2 id="clang"><a href="#clang" class="headerlink" title="clang"></a>clang</h2><p><a href="https://llvm.org/" target="_blank" rel="noopener">clang</a> 的使用方式和正常一样。Termux 不支持 gcc，一般都使用 clang 进行编译。需要注意的是 Termux 中的系统 libc++ 库不支持静态库，只支持动态库，标准 C 库为 Bionic。虽然使用跨平台编译器和 musl libc 也能编译出能够在 Termux 上运行的程序，但是存在一些<a href="https://github.com/xeffyr/termux-stuff/tree/master/musl-libc-packages" target="_blank" rel="noopener">问题</a>。Termux 不支持 glibc。</p>
<p>安装方式</p>
<pre><code>pkg install clang llvm lld</code></pre><h2 id="Mono"><a href="#Mono" class="headerlink" title="Mono"></a>Mono</h2><p><a href="https://www.mono-project.com/" target="_blank" rel="noopener">mono</a> 没有包支持。但是有社区版本，如笔者编译的 <a href="https://github.com/IanusInferus/termux-mono" target="_blank" rel="noopener">termux-mono</a> 以及一些在 PRoot 运行的 Arch Linux 和 Ubuntu 中运行的版本。以下为 termux-mono 最新版本，不需要 PRoot 即可直接运行。</p>
<p><img src="https://img2018.cnblogs.com/blog/6245/201909/6245-20190902012811155-2016948412.png" alt></p>
<h2 id="Android-App-开发"><a href="#Android-App-开发" class="headerlink" title="Android App 开发"></a>Android App 开发</h2><p>虽然 Termux 中没有 JDK, Android SDK 和 Android NDK，但是仍然可以进行 Android App 开发。其中 JDK 可以使用 ecj 代替，Android SDK 可以使用独立的 dx, aapt 和 apksigner 代替，Android NDK 可以使用 clang 代替。使用这些软件通过调用命令行就能生成. so 文件, .dex 文件和. apk 文件。</p>
<p>安装方式</p>
<pre><code>pkg install ecj dx aapt apksigner</code></pre><p>需要注意的是，Android SDK API 28 引入的 d8 现在还<a href="https://github.com/termux/termux-packages/tree/master/disabled-packages/d8" target="_blank" rel="noopener">不支持</a>，所以编译 Java 8 和之后版本的代码会比较困难。</p>
<h2 id="Wcode"><a href="#Wcode" class="headerlink" title="Wcode"></a>Wcode</h2><p>Termux 内部查看和编辑代码不方便；Termux 中的文件无法被外部的 App 所查看和编辑；SDCard 模拟分区通常是 FAT32 格式的不支持执行权限，代码放在其中非常不方便。</p>
<p>于是有人想到通过在 Termux 中运行一个服务器，然后在外部连接服务器进行文件编辑的<a href="https://medium.com/samsung-internet-dev/writing-software-using-a-phone-e71976f1f18d" target="_blank" rel="noopener">方法</a>。为了实现类似于 Visual Studio Code 的编辑体验，他直接使用了 Visual Studio Code 的 <a href="https://github.com/microsoft/monaco-editor" target="_blank" rel="noopener">Monaco Editor</a>，在 Termux 中通过 nodejs 运行一个 HTTP 服务器，并在浏览器中进行访问。他的代码在<a href="https://github.com/SamsungInternet/web-code" target="_blank" rel="noopener">这里</a>。但是效果比较差，只适合在平板上运行。</p>
<p>后面又有人又做了一个类似的程序，就是 <a href="https://github.com/fmsouza/wcode" target="_blank" rel="noopener">Wcode</a>。</p>
<p>安装方式</p>
<pre><code>pkg install nodejs
npm install -g wcode</code></pre><p>笔者对 Wcode 进行了一些<a href="https://github.com/IanusInferus/wcode" target="_blank" rel="noopener">修改</a>，修正了一些 bug，并使其在手机上能更好地运行。</p>
<p><img src="https://img2018.cnblogs.com/blog/6245/201909/6245-20190902012949260-326794379.png" alt></p>
<p><img src="https://img2018.cnblogs.com/blog/6245/201909/6245-20190902013009832-359372059.png" alt></p>
<h2 id="快捷输入"><a href="#快捷输入" class="headerlink" title="快捷输入"></a>快捷输入</h2><p>很多常用命令很长，输入不变，可以通过 bash alias 来进行简记。</p>
<p>打开~/.bash_profile，即可增加 alias 指令。笔者的 alias 指令如下：</p>
<pre><code>alias cg=termux-clipboard-get
alias cs=termux-clipboard-set
alias m=micro
alias i=&#39;ifconfig | grep &#39;\&#39;&#39;inet &#39;\&#39;&#39; | sed &#39;\&#39;&#39;s/ *inet//g&#39;\&#39;&#39; | cut -d&#39;\&#39;&#39; &#39;\&#39;&#39; -f2&#39;
alias p=&#39;ping www.bing.com&#39;
alias w=wcode</code></pre><p>其中 i 为显示当前 IP 地址。</p>
<p>之后退出 Termux 再进入，即可通过简短命令来运行程序了。</p>

            
        </article>
    </div>
    
</section>

    </div>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/mdui@0.4.3/dist/js/mdui.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js"></script>
 
    <script src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script>


 
    <script src="https://cdn.jsdelivr.net/npm/smoothscroll-for-websites@1.4.9/SmoothScroll.min.js"></script>


<script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.15.8/build/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

<script src="/js/app.js?v=1574862650205"></script>
<script src="https://cdn.jsdelivr.net/npm/lazysizes@5.1.0/lazysizes.min.js"></script>


    <script type="text/javascript" src="https://cdn.jsdelivr.net/gh/xtaodada/xtaodada.github.io@0.0.2/copy.js"></script>



  





    <!-- baidu Analytics -->
<script>
    var _hmt = _hmt || [];
    (function() {var hm = document.createElement('script');
    hm.src = 'https://hm.baidu.com/hm.js?3a0193fa24ece2ff69380ae21ae95075';
    var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(hm, s);
    })();
</script>

</body>

</html>
